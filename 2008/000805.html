<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sorcerer-admins] Dying boxes ...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sorcerer-admins/2008/index.html" >
   <LINK REL="made" HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20Dying%20boxes%20...&In-Reply-To=%3C596b75860810241505me352603g44d84c8d45779e2e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000804.html">
   <LINK REL="Next"  HREF="000806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sorcerer-admins] Dying boxes ...</H1>
    <B>Kyle Sallee</B> 
    <A HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20Dying%20boxes%20...&In-Reply-To=%3C596b75860810241505me352603g44d84c8d45779e2e%40mail.gmail.com%3E"
       TITLE="[Sorcerer-admins] Dying boxes ...">kyle.sallee at gmail.com
       </A><BR>
    <I>Sat Oct 25 00:05:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000804.html">[Sorcerer-admins] Dying boxes ...
</A></li>
        <LI>Next message: <A HREF="000806.html">[Sorcerer-admins] Dying boxes ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#805">[ date ]</a>
              <a href="thread.html#805">[ thread ]</a>
              <a href="subject.html#805">[ subject ]</a>
              <a href="author.html#805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wow.
Jan always has a real fun time with X.  :)
If I could join that party then I might have a clue.
However, I am aware of the following:


hal-info 20081022
was released recently.
I suppose the nice versioned date suggests that.
However, I have not introduced it into the grimoire yet.


To populate /usr/share/X11/xkd/ :
# cast xkeyboard-config xkbdata

Maybe some spell aught to require the above spells
to ensure that they are installed on all boxes.
gdm requires xkeyboard-config
I gathered that by looking at a gdm log.

I have not looked into what xkeyboard-config xkbdata do
However, they are probably important for something.
If either of those fix the problem
please report the solution so it can be implemented distribution wide.


As udev progress, with the udev all-distribution wide rules evolving,
the probability of included distribution specific rules becoming incompatible
with udev increases.
For the moment I have decided that grimoire/udev.d/rules.d/ will contain
the Sorcerer specific distribution rules not provided by udev such as rules
to properly assign group and mode to audio device nodes.

For the moment I suggest that we add our own distribution specific rules
to udev to compensate for what the udev provided rules lack instead of
relying upon the old examples which may disappear or provide more rules
than need or rules that are not needed or rules that do not work.

Because udev is among the more potentially troublesome updates
I tend to skip updating udev about 4 versions each time: 120 125 130.
I have done excellent at ensuring boxes survive the udev update and reboot,
however ensuring all the rules work and are the same I will become better at.


The reason why there is a &quot;wall&quot;ed warning about dbus restarting
is that usually a restart of dbus will also cause gdm/kdm to restart.
That is very unfortunate I suppose.
But aught not dbus be restarted after an update?
If the X server should remain up,
which might happen depending on how it is started and the window manager,
then the keyboard might stop working if it has any connection to dbus.

If the norm for dbus is such that restarting dbus is so hazardous
then I will make it so that try-restart parameter is ignored and dbus
is not restarted when new versions are installed.
Please provide information about experiences that suggest that restarting
dbus is a bad idea if you want dbus to not be automatically restarted
on updates.


Sorry about the update inconveniences.
However, with your feedback hopefully
future updates will be smoother distribution.
Thanks for the reports.


On Fri, Oct 24, 2008 at 2:45 PM, evert vorster &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">evorster at gmail.com</A>&gt; wrote:
&gt;<i> Hi there...
</I>&gt;<i>
</I>&gt;<i> I have noticed some funny things with udev and the permissions of devices it
</I>&gt;<i> creates.
</I>&gt;<i> Check to see if the udev rules are there and uncorrupted.
</I>&gt;<i>
</I>&gt;<i> Hope this helps.
</I>&gt;<i> -Evert-
</I>&gt;<i>
</I>&gt;<i> On Fri, Oct 24, 2008 at 8:33 PM, J Decker &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">d3ck0r at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> uhmm... I see... I don't know exactly how to fix it, X -configure,
</I>&gt;&gt;<i> then using that file seemed to work okay. was going to try something
</I>&gt;&gt;<i> like
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://linux.derkeiler.com/Mailing-Lists/Fedora/2008-09/msg02190.html">http://linux.derkeiler.com/Mailing-Lists/Fedora/2008-09/msg02190.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Adding the ServerFlag mentioned...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well.. I had the same no mouse device, no keyboard device, HAL
</I>&gt;&gt;<i> autoconfigure mentioned in that article, since it's working now, I
</I>&gt;&gt;<i> don't have the log.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Fri, Oct 24, 2008 at 11:12 AM, Jan Merka &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">merka at highsphere.net</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; On Friday 24 October 2008, J Decker wrote:
</I>&gt;&gt;<i> &gt;&gt; I have two boxes that recently started failing... failing in that they
</I>&gt;&gt;<i> &gt;&gt; have no keyboard/mouse support in X.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; One box, I specifically saw 'will restart dbus soon' and after that
</I>&gt;&gt;<i> &gt;&gt; everything stopped working.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I had to remove a few lines from system.conf for hal to work with the
</I>&gt;&gt;<i> &gt; latest
</I>&gt;&gt;<i> &gt; dbus (the *.bak file is what was installed by dbus):
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; [<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">root at lepjmlap</A> dbus-1]$ diff -u system.conf system.conf.bak
</I>&gt;&gt;<i> &gt; --- system.conf 2008-10-17 10:49:07.000000000 -0400
</I>&gt;&gt;<i> &gt; +++ system.conf.bak     2008-10-16 02:28:16.000000000 -0400
</I>&gt;&gt;<i> &gt; @@ -53,6 +53,10 @@
</I>&gt;&gt;<i> &gt;     &lt;!-- valid replies are always allowed --&gt;
</I>&gt;&gt;<i> &gt;     &lt;allow send_requested_reply=&quot;true&quot;/&gt;
</I>&gt;&gt;<i> &gt;     &lt;allow receive_requested_reply=&quot;true&quot;/&gt;
</I>&gt;&gt;<i> &gt; +    &lt;!-- disallow changing the activation environment of system
</I>&gt;&gt;<i> &gt; services --&gt;
</I>&gt;&gt;<i> &gt; +    &lt;deny send_destination=&quot;org.freedesktop.DBus&quot;
</I>&gt;&gt;<i> &gt; +          send_interface=&quot;org.freedesktop.DBus&quot;
</I>&gt;&gt;<i> &gt; +          send_member=&quot;UpdateActivationEnvironment&quot;/&gt;
</I>&gt;&gt;<i> &gt;   &lt;/policy&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;   &lt;!-- Config files are placed here that among other things, punch
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On the other box, all I can tell is that X says cannot load keymap
</I>&gt;&gt;<i> &gt;&gt; file from /usr/share/X11/xkb in which there is nothing...
</I>&gt;&gt;<i> &gt; Install xkeyboard-config.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I'm still on the recovery path - can only spend a little time here and
</I>&gt;&gt;<i> &gt;&gt; there on these...
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000804.html">[Sorcerer-admins] Dying boxes ...
</A></li>
	<LI>Next message: <A HREF="000806.html">[Sorcerer-admins] Dying boxes ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#805">[ date ]</a>
              <a href="thread.html#805">[ thread ]</a>
              <a href="subject.html#805">[ subject ]</a>
              <a href="author.html#805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">More information about the Sorcerer-admins
mailing list</a><br>
</body></html>
