<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sorcerer-admins] kde v3 related spells fail to compile
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sorcerer-admins/2009/index.html" >
   <LINK REL="made" HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20kde%20v3%20related%20spells%20fail%20to%20compile&In-Reply-To=%3C200910011715.39510.merka%40highsphere.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001325.html">
   <LINK REL="Next"  HREF="001331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sorcerer-admins] kde v3 related spells fail to compile</H1>
    <B>Jan Merka</B> 
    <A HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20kde%20v3%20related%20spells%20fail%20to%20compile&In-Reply-To=%3C200910011715.39510.merka%40highsphere.net%3E"
       TITLE="[Sorcerer-admins] kde v3 related spells fail to compile">merka at highsphere.net
       </A><BR>
    <I>Thu Oct  1 23:15:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001325.html">[Sorcerer-admins] kde v3 related spells fail to compile
</A></li>
        <LI>Next message: <A HREF="001331.html">[Sorcerer-admins] kde v3 related spells fail to compile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1327">[ date ]</a>
              <a href="thread.html#1327">[ thread ]</a>
              <a href="subject.html#1327">[ subject ]</a>
              <a href="author.html#1327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 28 September 2009, Kyle Sallee wrote:
&gt;<i> Please recast the
</I>&gt;<i> libxcb spell
</I>&gt;<i> It should take care of adding to the cast queue
</I>&gt;<i> all the spells that require recompilation
</I>&gt;<i> in order to make references to that library go away.
</I>&gt;<i> That library is no longer installed by libxcb.
</I>Reinstalling libxcb did not help. Still the same problem, below for example 
from kdegames-v3. Yes, cast put some spells in the queue after installing 
libxcb but those were only kde-v3 spells and those failed because of xcb.

What now?

&gt;<i> 
</I>mv -f .deps/kgamelcd.Tpo .deps/kgamelcd.Plo
/bin/sh ../libtool --silent --tag=CXX   --mode=link g++  -Wno-long-long -
Wundef -ansi -D_XOPEN_SOURCE=500 -D_BSD_SOURCE -Wcast-align -Wchar-subscripts 
-Wall -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -march=native -Os -Wformat-
security -Wmissing-format-attribute -Wno-non-virtual-dtor -fno-exceptions -
fno-check-new -fno-common -DQT_CLEAN_NAMESPACE -DQT_NO_ASCII_CAST -DQT_NO_STL 
-DQT_NO_COMPAT -DQT_NO_TRANSLATION  -L/opt/kde3/lib     -R /opt/kde3/lib -R 
/opt/kde3/lib -R /opt/kde3/lib -no-undefined -version-info 3:0:2 -Wl,-s -
L/opt/kde3/lib -L/opt/kde3/lib64 -o libkdegames.la -rpath /opt/kde3/lib 
kcarddialog.lo kstdgameaction.lo kgamemisc.lo kchatbase.lo kchat.lo 
kchatdialog.lo kgameprogress.lo kcanvasrootpixmap.lo kgamelcd.lo 
highscore/libkhighscore.la kgame/libkgame.la kgame/dialogs/libkgamedialogs.la 
-lkio -lkdnssd 
grep: /usr/lib/libxcb-xlib.la: No such file or directory
/bin/sed: can't read /usr/lib/libxcb-xlib.la: No such file or directory
libtool: link: `/usr/lib/libxcb-xlib.la' is not a valid libtool archive
make[3]: *** [libkdegames.la] Error 1
make[3]: Leaving directory `/usr/src/sorcery/kdegames-
v3/kdegames-3.5.10/libkdegames'
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/usr/src/sorcery/kdegames-
v3/kdegames-3.5.10/libkdegames'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/usr/src/sorcery/kdegames-v3/kdegames-3.5.10'
make: *** [all] Error 2
! Problem Detected !
Source moved to /var/tmp/failed/kdegames-v3
Fail:   Thu Oct  1 17:10:13 EDT 2009    kdegames-v3     3.5.10  build/compile 
error


&gt;<i> On Mon, Sep 28, 2009 at 9:01 AM, Jan Merka &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">merka at highsphere.net</A>&gt; wrote:
</I>&gt;<i> &gt; I have managed to get both qt-x11-free and kdelibs-v3 to compile while
</I>&gt;<i> &gt; *some* kde v3 spells also compiled. The trick was to compile both qt and
</I>&gt;<i> &gt; kdelibs with the same gcc version. Gcc 4.3 did not work on the qt spell
</I>&gt;<i> &gt; so I forced 4.2 on both.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now however, some kde v3 spells still do not compile. For example, the
</I>&gt;<i> &gt; kdebase-v3 spell fails as
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -W -Wpointer-arith -DNDEBUG -DNO_DEBUG -O2 -march=native -Os
</I>&gt;<i> &gt; -Wformat-security -Wmissing-format-attribute -Wno-non-virtual-dtor
</I>&gt;<i> &gt; -fno-exceptions -fno-check- new -fno-common -DQT_CLEAN_NAMESPACE
</I>&gt;<i> &gt; -DQT_NO_ASCII_CAST -DQT_NO_STL - DQT_NO_COMPAT -DQT_NO_TRANSLATION
</I>&gt;<i> &gt; -D_GNU_SOURCE  -L/opt/kde3/lib     -R /opt/kde3/lib -R /opt/kde3/lib -R
</I>&gt;<i> &gt; /opt/kde3/lib -Wl,-s -L/opt/kde3/lib - L/opt/kde3/lib64 -o ksysguard
</I>&gt;<i> &gt; SensorBrowser.o WorkSheet.o WorkSheetSettings.o Workspace.o ksysguard.o
</I>&gt;<i> &gt; ksysguard_skel.o ksgrd/libksgrd.la
</I>&gt;<i> &gt; SensorDisplayLib/libsensordisplays.la -lkdeui -lkio -lkdnssd
</I>&gt;<i> &gt; libtool: link: cannot find the library `/usr/lib/libxcb-xlib.la'
</I>&gt;<i> &gt; make[4]: *** [ksysguard] Error 1
</I>&gt;<i> &gt; make[4]: Leaving directory `/usr/src/sorcery/kdebase-
</I>&gt;<i> &gt; v3/kdebase-3.5.10/ksysguard/gui'
</I>&gt;<i> &gt; make[3]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; make[3]: Leaving directory `/usr/src/sorcery/kdebase-
</I>&gt;<i> &gt; v3/kdebase-3.5.10/ksysguard/gui'
</I>&gt;<i> &gt; make[2]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; make[2]: Leaving directory `/usr/src/sorcery/kdebase-
</I>&gt;<i> &gt; v3/kdebase-3.5.10/ksysguard'
</I>&gt;<i> &gt; make[1]: *** [all-recursive] Error 1
</I>&gt;<i> &gt; make[1]: Leaving directory `/usr/src/sorcery/kdebase-v3/kdebase-3.5.10'
</I>&gt;<i> &gt; make: *** [all] Error 2
</I>&gt;<i> &gt; ! Problem Detected !
</I>&gt;<i> &gt; Source moved to /var/tmp/failed/kdebase-v3
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Friday 25 September 2009, Jan Merka wrote:
</I>&gt;<i> &gt;&gt; On Thursday 17 September 2009, Kyle Sallee wrote:
</I>&gt;<i> &gt;&gt; &gt; I wonder if that is related to the libxcb update somehow?
</I>&gt;<i> &gt;&gt; &gt; I would try recompiling qt-x11-free
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I can recompile qt-x11-free. I can even recompile kdelibs-v3. Then
</I>&gt;<i> &gt;&gt; however, the uic command is segfaulting and all seems point to the use
</I>&gt;<i> &gt;&gt; of different compiler versions for qt and kdelibs (4.2 and 4.3).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I have unsuccessfully tried to patch qt-x11-free to compile with gcc 4.3
</I>&gt;<i> &gt;&gt; to no avail.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Can anybody test to compile qt-x11-free, kdelibs-v3 and kdnssd-avahi in
</I>&gt;<i> &gt;&gt;  this order? If that succeeds, I would like to see what spell versions
</I>&gt;<i> &gt;&gt; are installed on the box and compile logs for qt and kdelibs.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thank you,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Jan
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt; and also to ensure that nothing else is being
</I>&gt;<i> &gt;&gt; &gt; prevented from recompiling due to an ELF or LA failure.
</I>&gt;<i> &gt;&gt; &gt; Also I would trying issuing:
</I>&gt;<i> &gt;&gt; &gt; # mv /lib.old /lib.older
</I>&gt;<i> &gt;&gt; &gt; # ldconfig
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Then check to see if uic is still segfaulting.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; kde-v3 is still working on my boxes and still compiling.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Sorcerer-admins mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Sorcerer-admins mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Sorcerer-admins mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001325.html">[Sorcerer-admins] kde v3 related spells fail to compile
</A></li>
	<LI>Next message: <A HREF="001331.html">[Sorcerer-admins] kde v3 related spells fail to compile
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1327">[ date ]</a>
              <a href="thread.html#1327">[ thread ]</a>
              <a href="subject.html#1327">[ subject ]</a>
              <a href="author.html#1327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">More information about the Sorcerer-admins
mailing list</a><br>
</body></html>
