<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sorcerer-admins] qt fails compilation
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sorcerer-admins/2009/index.html" >
   <LINK REL="made" HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20qt%20fails%20compilation&In-Reply-To=%3C596b75860907011103o38a7653euf6c57c3de7f42ee8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001292.html">
   <LINK REL="Next"  HREF="001296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sorcerer-admins] qt fails compilation</H1>
    <B>Kyle Sallee</B> 
    <A HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20qt%20fails%20compilation&In-Reply-To=%3C596b75860907011103o38a7653euf6c57c3de7f42ee8%40mail.gmail.com%3E"
       TITLE="[Sorcerer-admins] qt fails compilation">kyle.sallee at gmail.com
       </A><BR>
    <I>Wed Jul  1 20:03:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001292.html">[Sorcerer-admins] qt fails compilation
</A></li>
        <LI>Next message: <A HREF="001296.html">[Sorcerer-admins] qt fails compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1295">[ date ]</a>
              <a href="thread.html#1295">[ thread ]</a>
              <a href="subject.html#1295">[ subject ]</a>
              <a href="author.html#1295">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That looks odd...

I went through the source and am looking at:
qt-x11-opensource-src-4.5.0/src/sql/drivers/odbc/qsql_odbc.cpp

And it has in this function qGetStringData

QSQLLEN lengthIndicator = 0;

And then at the line of the first errror:

        r = SQLGetData(hStmt,
                        column+1,
                        unicode ? SQL_C_WCHAR : SQL_C_CHAR,
                        (SQLPOINTER)buf,
                        colSize,
                        &amp;lengthIndicator);


Therefore, the 6th parameter does appear to be of type QSQLLEN
and not SQLINTEGER
Therefore, it would not require conversion to SQLLEN
At least that is what my source tree looks like.
Is it the same in your source tarball for qt-x11-opensource?



On Thu, Apr 30, 2009 at 1:54 PM, MALET Jean-Luc&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">jeanluc.malet at gmail.com</A>&gt; wrote:
&gt;<i> qt fail compilation with the following log.... any idea?
</I>&gt;<i>
</I>&gt;<i> make[3]: entrant dans le r&#233;pertoire &#171;
</I>&gt;<i> /usr/src/sorcery/qt-x11-opensource/qt-x11-opensource-src-4.5.0/src/plugins/sqldrivers/odbc
</I>&gt;<i> &#187;
</I>&gt;<i> g++ -c -march=athlon64 -O2 -fPIC -fno-exceptions -O2 -fvisibility=hidden
</I>&gt;<i> -fvisibility-inlines-hidden -D_REENTRANT -Wall -W -fPIC
</I>&gt;<i> -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_NO_DEBUG -DQT_PLUGIN
</I>&gt;<i> -DQT_SQL_LIB -DQT_CORE_LIB -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE
</I>&gt;<i> -DQT_SHARED -I../../../../mkspecs/linux-g++-64 -I.
</I>&gt;<i> -I../../../../include/QtCore -I../../../../include/QtSql
</I>&gt;<i> -I../../../../include -I.moc/release-shared -I.uic/release-shared -o
</I>&gt;<i> .obj/release-shared/main.o main.cpp
</I>&gt;<i> g++ -c -march=athlon64 -O2 -fPIC -fno-exceptions -O2 -fvisibility=hidden
</I>&gt;<i> -fvisibility-inlines-hidden -D_REENTRANT -Wall -W -fPIC
</I>&gt;<i> -DQT_NO_CAST_TO_ASCII -DQT_NO_CAST_FROM_ASCII -DQT_NO_DEBUG -DQT_PLUGIN
</I>&gt;<i> -DQT_SQL_LIB -DQT_CORE_LIB -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE
</I>&gt;<i> -DQT_SHARED -I../../../../mkspecs/linux-g++-64 -I.
</I>&gt;<i> -I../../../../include/QtCore -I../../../../include/QtSql
</I>&gt;<i> -I../../../../include -I.moc/release-shared -I.uic/release-shared -o
</I>&gt;<i> .obj/release-shared/qsql_odbc.o ../../../sql/drivers/odbc/qsql_odbc.cpp
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In function &#8216;QString
</I>&gt;<i> qGetStringData(void*, int, int, bool)&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:336: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In function &#8216;QVariant
</I>&gt;<i> qGetBinaryData(void*, int)&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:389: erreur: cannot convert
</I>&gt;<i> &#8216;SQLUINTEGER*&#8217; to &#8216;SQLULEN*&#8217; for argument &#8216;7&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLDescribeCol(void*, SQLUSMALLINT, SQLCHAR*, SQLSMALLINT, SQLSMALLINT*,
</I>&gt;<i> SQLSMALLINT*, SQLULEN*, SQLSMALLINT*, SQLSMALLINT*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:405: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In function &#8216;QVariant
</I>&gt;<i> qGetIntData(void*, int, bool)&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:434: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In function &#8216;QVariant
</I>&gt;<i> qGetBigIntData(void*, int, bool)&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:454: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In function &#8216;QSqlField
</I>&gt;<i> qMakeFieldInfo(const QODBCPrivate*, int)&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:505: erreur: cannot convert
</I>&gt;<i> &#8216;SQLUINTEGER*&#8217; to &#8216;SQLULEN*&#8217; for argument &#8216;7&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLDescribeCol(void*, SQLUSMALLINT, SQLCHAR*, SQLSMALLINT, SQLSMALLINT*,
</I>&gt;<i> SQLSMALLINT*, SQLULEN*, SQLSMALLINT*, SQLSMALLINT*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:519: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;7&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLColAttribute(void*, SQLUSMALLINT, SQLUSMALLINT, void*, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT*, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In member function &#8216;virtual
</I>&gt;<i> QVariant QODBCResult::data(int)&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:989: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1002: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1015: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;6&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLGetData(void*, SQLUSMALLINT, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In member function &#8216;virtual int
</I>&gt;<i> QODBCResult::numRowsAffected()&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1082: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;2&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLRowCount(void*, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp: In member function &#8216;virtual
</I>&gt;<i> bool QODBCResult::exec()&#8217;:
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1200: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1220: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1244: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1257: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1269: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1281: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1293: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1305: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1320: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1332: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1354: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1368: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1388: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> ../../../sql/drivers/odbc/qsql_odbc.cpp:1406: erreur: cannot convert
</I>&gt;<i> &#8216;SQLINTEGER*&#8217; to &#8216;SQLLEN*&#8217; for argument &#8216;10&#8217; to &#8216;SQLRETURN
</I>&gt;<i> SQLBindParameter(void*, SQLUSMALLINT, SQLSMALLINT, SQLSMALLINT,
</I>&gt;<i> SQLSMALLINT, SQLULEN, SQLSMALLINT, void*, SQLLEN, SQLLEN*)&#8217;
</I>&gt;<i> make[3]: *** [.obj/release-shared/qsql_odbc.o] Erreur 1
</I>&gt;<i> make[3]: quittant le r&#233;pertoire &#171;
</I>&gt;<i> /usr/src/sorcery/qt-x11-opensource/qt-x11-opensource-src-4.5.0/src/plugins/sqldrivers/odbc
</I>&gt;<i> &#187;
</I>&gt;<i> make[2]: *** [sub-odbc-make_default] Erreur 2
</I>&gt;<i> make[2]: quittant le r&#233;pertoire &#171;
</I>&gt;<i> /usr/src/sorcery/qt-x11-opensource/qt-x11-opensource-src-4.5.0/src/plugins/sqldrivers
</I>&gt;<i> &#187;
</I>&gt;<i> make[1]: *** [sub-sqldrivers-make_default] Erreur 2
</I>&gt;<i> make[1]: quittant le r&#233;pertoire &#171;
</I>&gt;<i> /usr/src/sorcery/qt-x11-opensource/qt-x11-opensource-src-4.5.0/src/plugins &#187;
</I>&gt;<i> make: *** [sub-plugins-make_default-ordered] Erreur 2
</I>&gt;<i> ! Problem Detected !
</I>&gt;<i> Source tree discarded.
</I>&gt;<i> Fail: jeu avr 30 22:25:09 CEST 2009 qt-x11-opensource 4.5.0
</I>&gt;<i> build/compile error
</I>&gt;<i>
</I>&gt;<i> jeu avr 30 22:25:20
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">root at jlmport</A>:/tmp#
</I>&gt;<i>
</I>&gt;<i> thanks
</I>&gt;<i> JLM
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Sorcerer-admins mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001292.html">[Sorcerer-admins] qt fails compilation
</A></li>
	<LI>Next message: <A HREF="001296.html">[Sorcerer-admins] qt fails compilation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1295">[ date ]</a>
              <a href="thread.html#1295">[ thread ]</a>
              <a href="subject.html#1295">[ subject ]</a>
              <a href="author.html#1295">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">More information about the Sorcerer-admins
mailing list</a><br>
</body></html>
