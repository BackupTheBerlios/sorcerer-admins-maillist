<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sorcerer-admins] Please forgive the excessive recompilation...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sorcerer-admins/2013/index.html" >
   <LINK REL="made" HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20Please%20forgive%20the%20excessive%20recompilation...&In-Reply-To=%3CCA%2BT4wDg%3DDc%2BASAFjvuGkmfA9fzEn5rHr59B%3DKGKeR25um-HHvw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002470.html">
   <LINK REL="Next"  HREF="002472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sorcerer-admins] Please forgive the excessive recompilation...</H1>
    <B>Kyle Sallee</B> 
    <A HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20Please%20forgive%20the%20excessive%20recompilation...&In-Reply-To=%3CCA%2BT4wDg%3DDc%2BASAFjvuGkmfA9fzEn5rHr59B%3DKGKeR25um-HHvw%40mail.gmail.com%3E"
       TITLE="[Sorcerer-admins] Please forgive the excessive recompilation...">kyle.sallee at gmail.com
       </A><BR>
    <I>Tue Oct 15 23:03:11 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="002470.html">[Sorcerer-admins] Please forgive the excessive recompilation...
</A></li>
        <LI>Next message: <A HREF="002472.html">[Sorcerer-admins] Please forgive the excessive recompilation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2471">[ date ]</a>
              <a href="thread.html#2471">[ thread ]</a>
              <a href="subject.html#2471">[ subject ]</a>
              <a href="author.html#2471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for saying so.
I feel excited and anxious about the changes.
To be able to accurately verify the integrity of spell owned files
without displacing the kernel's cached content
for frequently accessed files
grants ease while mitigating any performance loss
for current processes and frequently run programs.

With almost no exceptions nearly all programs
have the content of the files they read
stored in the kernel's block cache.
For most tasks the caching provides a boon.

However, for file integrity checking;
the deluge could displace more valuable blocks.
Yet access with O_DIRECT
preserves the kernel's cached content.
The deluge is circumvented.
That seems exciting!

We might not yet see that type performance in other POSIX.
The method for accessing file content with O_DIRECT
is slightly less obvious than described in manual pages.
The only utility I know about which provides an O_DIRECT method
is &quot;dd&quot; from coreutils.
And &quot;dd&quot; is designed to read only one file per invocation.
dd might not be a first choice for mass processing of files.

However, by sharing the code as a new utility
perhaps the functionality will be adopted by other POSIX.
Knowing that the files in the file system
exist and have proper content
is far more satisfying than assuming so.  :)

The amount of file content read might be many gigabytes.
But that still amounts to less than 1%
of the capacity for most mass storage devices.
Therefore, I do not expect the additional throughput
contributing to an early demise for fixed disks.

An amusing thought is that decades ago I was convinced
that atimes lead to quick demises for fixed disks.
I was probably correct at the time.
On older hardware atimes offered an opportunity for heads
to wear a groove in platters by constantly updating the atimes
for frequently accessed files.
The kernel's default implementation of atimes
was later changed in more recent years
to prevent frequent updates of atimes
for frequently accessed files.
Better late than never.  :)
However, pardon the digression.

These changes should improve integrity verification
while minimizing the impact upon performance.
Certainly, much data will be read from disk.
However, in a sorcery fashion
only one process performing heavy I/O will run.
After all the new code is in place and good to go
then the feeling of spontaneity should not diminish
during integrity checking.


On Tue, Oct 15, 2013 at 1:33 PM, Evert Vorster &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">evorster at gmail.com</A>&gt; wrote:

&gt;<i> Thanks for making Sorcery more robust.
</I>&gt;<i>
</I>&gt;<i> I will be taking the newer Sorcery for a run next week, and if anything
</I>&gt;<i> breaks, you'll be the second to know.
</I>&gt;<i>
</I>&gt;<i> ;)
</I>&gt;<i>
</I>&gt;<i> -Evert
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/sorcerer-admins/attachments/20131015/7f254cc8/attachment.html">https://lists.berlios.de/pipermail/sorcerer-admins/attachments/20131015/7f254cc8/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002470.html">[Sorcerer-admins] Please forgive the excessive recompilation...
</A></li>
	<LI>Next message: <A HREF="002472.html">[Sorcerer-admins] Please forgive the excessive recompilation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2471">[ date ]</a>
              <a href="thread.html#2471">[ thread ]</a>
              <a href="subject.html#2471">[ subject ]</a>
              <a href="author.html#2471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">More information about the Sorcerer-admins
mailing list</a><br>
</body></html>
