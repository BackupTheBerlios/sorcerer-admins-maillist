<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sorcerer-admins] dhcp on boot
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sorcerer-admins/2010/index.html" >
   <LINK REL="made" HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20dhcp%20on%20boot&In-Reply-To=%3CAANLkTim3VpdgUcBnEZstKQU1ZMFjH9P_gRnpAObMuZr2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001779.html">
   <LINK REL="Next"  HREF="001780.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sorcerer-admins] dhcp on boot</H1>
    <B>Kyle Sallee</B> 
    <A HREF="mailto:sorcerer-admins%40lists.berlios.de?Subject=Re%3A%20%5BSorcerer-admins%5D%20dhcp%20on%20boot&In-Reply-To=%3CAANLkTim3VpdgUcBnEZstKQU1ZMFjH9P_gRnpAObMuZr2%40mail.gmail.com%3E"
       TITLE="[Sorcerer-admins] dhcp on boot">kyle.sallee at gmail.com
       </A><BR>
    <I>Mon Jul 19 00:03:26 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001779.html">[Sorcerer-admins] dhcp on boot
</A></li>
        <LI>Next message: <A HREF="001780.html">[Sorcerer-admins] dhcp on boot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1782">[ date ]</a>
              <a href="thread.html#1782">[ thread ]</a>
              <a href="subject.html#1782">[ subject ]</a>
              <a href="author.html#1782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A regular expression match normally begins with /
However, the slash can be problematic because it
is widely used as part of directory paths.
Therefore, the initial \ backslash
allows a different character to be used instead.
Consequently, , the comma is being used instead.
After the second comma comes the command.
When the a line is matched by the regular expression
then what should be done with the line?
The d after the regular expression indicates
that the line should be deleted.
Without a command like d for deleted,
or p to print again
then sed will give an error.

Regular expressions are a somewhat cryptic notation method
for specifying instructions for searching and editing streams of text.
For years it looked like analog modem line noise to me.
But it comes in handy.
Both sed and grep can execute regular expressions.
However, the way they accept parameters and
report back information makes them useful at
different tasks.

Whether or not learning regular expressions is useful
might depend upon the SA, but anyone with experience
will say that writing a regular expression and using something
like sed, grep, or perl is faster
than writing a more complex C program.
However, even glibc has a regex,
a regular expression parser function,
available within it.
And recently, perhaps with BASH version 3
the BASH authors added limited support into BASH
for doing regular expressions.

So overall the popularity and and usefulness of
regular expressions is not diminishing.
The purpose of regular expressions differs from
that of SQL and therefore there might not be
a substitute for regular expressions.
Lastly, a regular expression executed by sed
can be used to edit or fix thousands of files at a time
where editing those same files by hand
in order to change one line
would require a full day's of effort and then some.
Mass editing of files using sed is sometimes called
sediting files.

Manual page information about regular expressions
is a bit difficult to read and understand.
Info pages are better.
However, the best references will likely be found
online with a google search.

In my experience Unix/Linux users can
probably do okay without knowing a regular expressions.
However, SAs will eventually learn regular expressions.

There is something a SA can do without learning.
vi commands.
Yes, I never use vi.
vi reminds me of the days of programs like
uhm word perfect and volkswriter and such
where word processing programs did not have
menus but rather command assigned to key
press combinations of ctrl alt shift and function keys.
And it was so complex that anyone who did not use
it daily required a cardboard/paper keyboard overlay
to be placed on their keyboard to remind them of
which key pressed did what.
And then the user would have to search the overlay
with their eyeball in order to find the command that
they are looking for and determine by the color
whether it the function key press required shift, ctrl, or alt.
VI seems to me to be a throwback to the absurd
days when text and word processing required a
memory of checkout cashier.
Oops, I digress.
Anyway, better to learn regular expression syntax
than vi commands.  :)


On Sun, Jul 18, 2010 at 3:38 AM, Roelof Wobben &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">rwobben at hotmail.com</A>&gt; wrote:
&gt;<i> Oke,
</I>&gt;<i>
</I>&gt;<i> But one thing&#160;you said I don't understand.
</I>&gt;<i>
</I>&gt;<i> I thought that sed statement on floppy drives must be :
</I>&gt;<i>
</I>&gt;<i> \,^/dev/fd[0-9],
</I>&gt;<i>
</I>&gt;<i> Instead of
</I>&gt;<i>
</I>&gt;<i> \,^/dev/fd[0-9],d
</I>&gt;<i>
</I>&gt;<i> Otherwise the installer looks still for the floppy disk.
</I>&gt;<i>
</I>&gt;<i> Roelof
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Date: Sun, 18 Jul 2010 03:22:53 -0700
</I>&gt;&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">kyle.sallee at gmail.com</A>
</I>&gt;&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">sorcerer-admins at lists.berlios.de</A>
</I>&gt;&gt;<i> Subject: Re: [Sorcerer-admins] dhcp on boot
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That is insightful.
</I>&gt;&gt;<i> Many aspects of the menu driven installer
</I>&gt;&gt;<i> connects back to
</I>&gt;&gt;<i> list_parts()
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It might contain the only invocation of sed
</I>&gt;&gt;<i> with a command line parameter that
</I>&gt;&gt;<i> could be as long as 93 characters or more.
</I>&gt;&gt;<i> So if the sed statement to filter out floppy disks is broke
</I>&gt;&gt;<i> then that also explains why the devices did
</I>&gt;&gt;<i> not automatically show upon the fstab menu.
</I>&gt;&gt;<i> Currently, that sed statement should look like:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> sed '\,^/dev/loop,d
</I>&gt;&gt;<i> \,^/dev/mapper/,p
</I>&gt;&gt;<i> \,^/dev/mapper/,d
</I>&gt;&gt;<i> \,^/dev/fd[0-9],d
</I>&gt;&gt;<i> \,^/dev/sr[0-9],d
</I>&gt;&gt;<i> \,[0-9],p;d'
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When editing that sed statement please be very careful.
</I>&gt;&gt;<i> Not writing a proper line to remove all the floppy devices
</I>&gt;&gt;<i> was how I introduced an problem into the installer.
</I>&gt;&gt;<i> Perhaps if you executed the sed -i command
</I>&gt;&gt;<i> on /sbin/install as I recommend in the README
</I>&gt;&gt;<i> then I somehow miswrote that instruction in the README.
</I>&gt;&gt;<i> If that is so, please let me know.
</I>&gt;&gt;<i> Also you could try editing the
</I>&gt;&gt;<i> the menu driven install script with nano.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Although the current problem with sinstall
</I>&gt;&gt;<i> that I created was more due to my ignorance than a typo
</I>&gt;&gt;<i> Retrospect tends to show that sed statements
</I>&gt;&gt;<i> are magnets for typos.
</I>&gt;&gt;<i> And sometimes finding the responsible sed command
</I>&gt;&gt;<i> is difficult since they almost all execute within pipes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Although the menu driven installer is easy
</I>&gt;&gt;<i> to fix since it is a BASH script
</I>&gt;&gt;<i> my style of writing BASH scripts tends to
</I>&gt;&gt;<i> produce programs that execute very quickly
</I>&gt;&gt;<i> but are more than challenging to debug.
</I>&gt;&gt;<i> Seeing what goes on when tracing BASH
</I>&gt;&gt;<i> script through the execution of pipes
</I>&gt;&gt;<i> often looks very different than the BASH script.
</I>&gt;&gt;<i> First of all, the end pieces of pipes
</I>&gt;&gt;<i> start before the beginning.
</I>&gt;&gt;<i> And if that was not confusing enough then
</I>&gt;&gt;<i> lines in several piped together functions
</I>&gt;&gt;<i> might list in a slightly unexpected order
</I>&gt;&gt;<i> and not separate and neat like in the program.
</I>&gt;&gt;<i> So doing bash -x and understanding what shows is tricky.
</I>&gt;&gt;<i> And if that was not enough to baffle trace debugging
</I>&gt;&gt;<i> the use of dialog tend to overwrite useful scroll on the screen.
</I>&gt;&gt;<i> Consequently, when I am testing my BASH script
</I>&gt;&gt;<i> I tend to pull it apart and test functions individually.
</I>&gt;&gt;<i> Testing it all together is like trying to pull bubblegum out of hair.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for trying to fix this.
</I>&gt;&gt;<i> Probably success will be better on your next attempt.
</I>&gt;&gt;<i> Originally, you fixed the sed statement adequately.
</I>&gt;&gt;<i> If you were to do that again
</I>&gt;&gt;<i> then the menu driven installer should work
</I>&gt;&gt;<i> as good as it did when it was previously successful.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sun, Jul 18, 2010 at 2:34 AM, Roelof Wobben &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">rwobben at hotmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> &gt; Hello Kyle
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I think i found a little bug.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; When you choose Device You very shortly see this message : sed: -e
</I>&gt;&gt;<i> &gt; expression 1, char 93: unknown command:&#160;`
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Roelof
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt; Date: Sat, 17 Jul 2010 15:36:01 -0700
</I>&gt;&gt;<i> &gt;&gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">kyle.sallee at gmail.com</A>
</I>&gt;&gt;<i> &gt;&gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">sorcerer-admins at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt;&gt; Subject: Re: [Sorcerer-admins] dhcp on boot
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; That might be a bug in the menu driven installer.
</I>&gt;&gt;<i> &gt;&gt; Normally, it detects partition,
</I>&gt;&gt;<i> &gt;&gt; and it identifies the filesystem on them
</I>&gt;&gt;<i> &gt;&gt; and makes an entry for it in the fstab menu.
</I>&gt;&gt;<i> &gt;&gt; However, if no entry exists
</I>&gt;&gt;<i> &gt;&gt; then selecting the top item in the menu list
</I>&gt;&gt;<i> &gt;&gt; will allow the SA to enter in a device name
</I>&gt;&gt;<i> &gt;&gt; and manually create an entry.
</I>&gt;&gt;<i> &gt;&gt; If that fails to work
</I>&gt;&gt;<i> &gt;&gt; then you could try a manual install.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Installation of an operating system like Sorcerer is rather easy.
</I>&gt;&gt;<i> &gt;&gt; Partition disk,
</I>&gt;&gt;<i> &gt;&gt; do not forget to mark the bootable partition,
</I>&gt;&gt;<i> &gt;&gt; run ms-sys to install a bootable MBR to the device,
</I>&gt;&gt;<i> &gt;&gt; make a filesystem,
</I>&gt;&gt;<i> &gt;&gt; mount it on /media/root,
</I>&gt;&gt;<i> &gt;&gt; copy the contents of the rootfs/initramfs to it,
</I>&gt;&gt;<i> &gt;&gt; copy /media/IR/boot to /media/root/boot,
</I>&gt;&gt;<i> &gt;&gt; unarchive all the archives from /media/IR/var/cache/archive/
</I>&gt;&gt;<i> &gt;&gt; to the new root filesystem /media/root/,
</I>&gt;&gt;<i> &gt;&gt; mount --bind virtual filesystems within the new root filesystem,
</I>&gt;&gt;<i> &gt;&gt; such as
</I>&gt;&gt;<i> &gt;&gt; mount --bind /dev /media/root/dev
</I>&gt;&gt;<i> &gt;&gt; mount --bind /proc /media/root/proc
</I>&gt;&gt;<i> &gt;&gt; ,
</I>&gt;&gt;<i> &gt;&gt; chroot into the new root filesystem,
</I>&gt;&gt;<i> &gt;&gt; edit /etc/fstab and /etc/lilo/head,
</I>&gt;&gt;<i> &gt;&gt; dispel install,
</I>&gt;&gt;<i> &gt;&gt; cast glibc-locales etc kbd
</I>&gt;&gt;<i> &gt;&gt; /etc/init.d/depmod
</I>&gt;&gt;<i> &gt;&gt; /etc/init.d/rc.d
</I>&gt;&gt;<i> &gt;&gt; /etc/init.d/services.d
</I>&gt;&gt;<i> &gt;&gt; /etc/init.d/lilo
</I>&gt;&gt;<i> &gt;&gt; /etc/init.d/initramfs
</I>&gt;&gt;<i> &gt;&gt; ,
</I>&gt;&gt;<i> &gt;&gt; exit the chroot,
</I>&gt;&gt;<i> &gt;&gt; umount the virtual filesystems,
</I>&gt;&gt;<i> &gt;&gt; umount /media/root,
</I>&gt;&gt;<i> &gt;&gt; reboot
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; The menu driven installer is suppose
</I>&gt;&gt;<i> &gt;&gt; to provide a somewhat familiar path
</I>&gt;&gt;<i> &gt;&gt; through those steps so the SA can
</I>&gt;&gt;<i> &gt;&gt; reach the outcome faster and with less effort.
</I>&gt;&gt;<i> &gt;&gt; Creating LUKS encrypted filesystems, LVM2,
</I>&gt;&gt;<i> &gt;&gt; or mdraids seem far more complicated without
</I>&gt;&gt;<i> &gt;&gt; the assistance of the menu driven installer.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; If you discover why the menu driven installer
</I>&gt;&gt;<i> &gt;&gt; is unable to locate partitions
</I>&gt;&gt;<i> &gt;&gt; then I would be eager to know.
</I>&gt;&gt;<i> &gt;&gt; Did you happen to change the incomplete sed
</I>&gt;&gt;<i> &gt;&gt; command from one that filters out /dev/fd[0-9]
</I>&gt;&gt;<i> &gt;&gt; to one that filters out /dev/hd*
</I>&gt;&gt;<i> &gt;&gt; I have a difficult time guessing why
</I>&gt;&gt;<i> &gt;&gt; the partition would not show up in the installer's
</I>&gt;&gt;<i> &gt;&gt; fstab creation menu.
</I>&gt;&gt;<i> &gt;&gt; But like I said above
</I>&gt;&gt;<i> &gt;&gt; a device can be entered manually
</I>&gt;&gt;<i> &gt;&gt; provided that the SA is sure that will work.
</I>&gt;&gt;<i> &gt;&gt; If it does not work then /media/root will not mount
</I>&gt;&gt;<i> &gt;&gt; the installation will install files to the rootfs/initramfs
</I>&gt;&gt;<i> &gt;&gt; and it will fill up and the computer will probably halt
</I>&gt;&gt;<i> &gt;&gt; from running out of RAM.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On Sat, Jul 17, 2010 at 3:31 AM, Roelof Wobben &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">rwobben at hotmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt; Hello,
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; I know why the root is empty.
</I>&gt;&gt;<i> &gt;&gt; &gt; Because&#160;of a reinstall I&#160;made the partitions again and the file
</I>&gt;&gt;<i> &gt;&gt; &gt; system
</I>&gt;&gt;<i> &gt;&gt; &gt; again.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; But still it seems that the installer can't find it and fdisk&#160;can
</I>&gt;&gt;<i> &gt;&gt; &gt; find
</I>&gt;&gt;<i> &gt;&gt; &gt; it.
</I>&gt;&gt;<i> &gt;&gt; &gt; I find it wierd that I cannot put any value in the device section of
</I>&gt;&gt;<i> &gt;&gt; &gt; the
</I>&gt;&gt;<i> &gt;&gt; &gt; installer.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; Roelof
</I>&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; Sorcerer-admins mailing list
</I>&gt;&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; ________________________________
</I>&gt;&gt;<i> &gt; De nieuwste Internet Explorer: snel, eenvoudig en veilig. Download nu!
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Sorcerer-admins mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Sorcerer-admins mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i> Voeg eenvoudig je Hyves vrienden toe aan je Hotmail en Messenger.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Sorcerer-admins mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">Sorcerer-admins at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">https://lists.berlios.de/mailman/listinfo/sorcerer-admins</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001779.html">[Sorcerer-admins] dhcp on boot
</A></li>
	<LI>Next message: <A HREF="001780.html">[Sorcerer-admins] dhcp on boot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1782">[ date ]</a>
              <a href="thread.html#1782">[ thread ]</a>
              <a href="subject.html#1782">[ subject ]</a>
              <a href="author.html#1782">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sorcerer-admins">More information about the Sorcerer-admins
mailing list</a><br>
</body></html>
